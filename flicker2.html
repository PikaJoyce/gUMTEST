<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Repro</title>
  </head>
  <body>
    <video></video>

    <button id="btn1">attach local track</button>
    <button id="btn2">attach remote track</button>

    <script src="twilio-video.min.js"></script>
    <script>
      const TOKEN ='';

      Twilio.Video.connect(TOKEN).then(room => {
        window.room = room;
      });

      const getLocalTrack = () => room.localParticipant.videoTracks.values().next().value.track;

      const getRemoteTrack = () =>
        room.participants
          .values()
          .next()
          .value.videoTracks.values()
          .next().value.track;

      const videoEl = document.querySelector('video');

      document.querySelector('#btn1').addEventListener('click', () => {
        getLocalTrack().attach(videoEl);
      });

      document.querySelector('#btn2').addEventListener('click', () => {
        getRemoteTrack().attach(videoEl);
      });
    </script>
  </body>
</html>
